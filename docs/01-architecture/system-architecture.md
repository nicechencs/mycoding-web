# Webå‰ç«¯æ¶æ„è®¾è®¡

## ğŸ—ï¸ æ¶æ„æ¦‚è¿°

MyCodingå‰ç«¯é‡‡ç”¨ **Next.js 14** æ¡†æ¶æ„å»ºï¼ŒåŸºäº **SSR/SSG** æŠ€æœ¯å®ç°ä¼˜ç§€çš„SEOå’Œæ€§èƒ½è¡¨ç°ï¼Œä¸ºç”¨æˆ·æä¾›æµç•…çš„ç¼–ç¨‹ç¤¾åŒºä½“éªŒã€‚

## ğŸ¯ è®¾è®¡åŸåˆ™

### 1. ç”¨æˆ·ä½“éªŒä¼˜å…ˆ

- **æ€§èƒ½ä¼˜åŒ–**: é¦–å±åŠ è½½æ—¶é—´ < 2ç§’
- **SEOå‹å¥½**: SSR/SSGç¡®ä¿æœç´¢å¼•æ“å¯è§æ€§
- **å“åº”å¼è®¾è®¡**: é€‚é…å¤šç«¯è®¾å¤‡

### 2. ç»„ä»¶åŒ–å¼€å‘

- **åŸå­è®¾è®¡**: ä»åŸå­ç»„ä»¶åˆ°é¡µé¢çš„åˆ†å±‚è®¾è®¡
- **å¯å¤ç”¨æ€§**: ç»„ä»¶é«˜åº¦è§£è€¦å’Œå¤ç”¨
- **ç±»å‹å®‰å…¨**: TypeScriptå…¨è¦†ç›–

### 3. ç°ä»£åŒ–æŠ€æœ¯æ ˆ

- **æœ€æ–°æ¡†æ¶**: Next.js 14 App Router
- **åŸå­åŒ–CSS**: Tailwind CSSå¿«é€Ÿå¼€å‘
- **ç»„ä»¶åº“**: shadcn/uié«˜è´¨é‡ç»„ä»¶

## ğŸ¢ æ¶æ„å±‚æ¬¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç”¨æˆ·ç•Œé¢å±‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   é¡µé¢è·¯ç”±   â”‚    â”‚    å¸ƒå±€ç³»ç»Ÿ     â”‚   â”‚
â”‚  â”‚ (App Router)â”‚    â”‚   (Layouts)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              ç»„ä»¶å±‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  UIç»„ä»¶åº“    â”‚    â”‚   ä¸šåŠ¡ç»„ä»¶      â”‚   â”‚
â”‚  â”‚ (shadcn/ui) â”‚    â”‚  (Features)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              çŠ¶æ€ç®¡ç†å±‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Zustand   â”‚    â”‚ TanStack Query  â”‚   â”‚
â”‚  â”‚ (å®¢æˆ·ç«¯çŠ¶æ€) â”‚    â”‚  (æœåŠ¡å™¨çŠ¶æ€)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              æ•°æ®äº¤äº’å±‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  APIå®¢æˆ·ç«¯   â”‚    â”‚   WebSocket     â”‚   â”‚
â”‚  â”‚   (Axios)   â”‚    â”‚   (å®æ—¶é€šä¿¡)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æŠ€æœ¯æ ˆé€‰å‹

| åˆ†ç±»         | æŠ€æœ¯é€‰æ‹©              | ç‰ˆæœ¬ | é€‰æ‹©ç†ç”±                         |
| ------------ | --------------------- | ---- | -------------------------------- |
| **æ¡†æ¶**     | Next.js               | 14+  | SSR/SSGã€ä¼˜ç§€SEOã€å…¨æ ˆèƒ½åŠ›       |
| **UIåº“**     | React                 | 18+  | æˆç†Ÿç”Ÿæ€ã€ä¸°å¯Œç»„ä»¶ã€å¼€å‘æ•ˆç‡é«˜   |
| **æ ·å¼**     | Tailwind CSS          | 3.x  | åŸå­åŒ–CSSã€å¿«é€Ÿå¼€å‘ã€ä¸€è‡´æ€§å¥½    |
| **ç»„ä»¶åº“**   | shadcn/ui             | -    | ç°ä»£åŒ–è®¾è®¡ã€é«˜åº¦å¯å®šåˆ¶ã€æ— å¤´ç»„ä»¶ |
| **çŠ¶æ€ç®¡ç†** | Zustand               | 4.x  | è½»é‡çº§ã€TypeScriptå‹å¥½ã€ç®€å•æ˜“ç”¨ |
| **æ•°æ®è·å–** | TanStack Query        | 5.x  | æœåŠ¡å™¨çŠ¶æ€ç®¡ç†ã€ç¼“å­˜ä¼˜åŒ–         |
| **è¡¨å•**     | React Hook Form + Zod | -    | é«˜æ€§èƒ½è¡¨å•ã€ç±»å‹å®‰å…¨éªŒè¯         |
| **åŠ¨ç”»**     | Framer Motion         | -    | æµç•…åŠ¨ç”»ã€æ‰‹åŠ¿æ”¯æŒ               |
| **å·¥å…·åº“**   | date-fns, lodash-es   | -    | æ—¥æœŸå¤„ç†ã€å®ç”¨å‡½æ•°               |

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                # App Router (Next.js 14)
â”‚   â”‚   â”œâ”€â”€ (auth)/        # è®¤è¯ç›¸å…³é¡µé¢ç»„
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ register/
â”‚   â”‚   â”œâ”€â”€ (main)/        # ä¸»è¦é¡µé¢ç»„
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx   # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ posts/     # æ–‡ç« é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ questions/ # é—®ç­”é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ profile/   # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ layout.tsx     # æ ¹å¸ƒå±€
â”‚   â”‚   â””â”€â”€ globals.css    # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ components/         # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/            # åŸºç¡€UIç»„ä»¶ (shadcn/ui)
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â””â”€â”€ dialog.tsx
â”‚   â”‚   â”œâ”€â”€ features/      # åŠŸèƒ½ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ editor/    # ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ comment/   # è¯„è®ºç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ search/    # æœç´¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ layout/        # å¸ƒå±€ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ header.tsx
â”‚   â”‚       â”œâ”€â”€ footer.tsx
â”‚   â”‚       â””â”€â”€ sidebar.tsx
â”‚   â”œâ”€â”€ lib/               # å·¥å…·å‡½æ•°å’Œé…ç½®
â”‚   â”‚   â”œâ”€â”€ api.ts         # APIå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ utils.ts       # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ constants.ts   # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰React Hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ useDebounce.ts
â”‚   â”‚   â””â”€â”€ useInfiniteScroll.ts
â”‚   â”œâ”€â”€ stores/            # ZustandçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ authStore.ts
â”‚   â”‚   â”œâ”€â”€ uiStore.ts
â”‚   â”‚   â””â”€â”€ userStore.ts
â”‚   â”œâ”€â”€ types/             # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”œâ”€â”€ models.ts
â”‚   â”‚   â””â”€â”€ components.ts
â”‚   â””â”€â”€ styles/            # æ ·å¼æ–‡ä»¶
â”‚       â””â”€â”€ themes/        # ä¸»é¢˜é…ç½®
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ fonts/
â”‚   â””â”€â”€ icons/
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.js     # Tailwindé…ç½®
â”œâ”€â”€ next.config.js         # Next.jsé…ç½®
â””â”€â”€ tsconfig.json          # TypeScripté…ç½®
```

## ğŸ¨ UI/UXè®¾è®¡ç³»ç»Ÿ

### è®¾è®¡åŸåˆ™

- **ç®€æ´æ¸…æ™°**: å‡å°‘è§†è§‰å™ªéŸ³ï¼Œçªå‡ºæ ¸å¿ƒå†…å®¹
- **ä¸€è‡´æ€§**: ç»Ÿä¸€çš„è®¾è®¡è¯­è¨€å’Œäº¤äº’æ¨¡å¼
- **å¯è®¿é—®æ€§**: WCAG 2.1 AAçº§æ ‡å‡†

### ç»„ä»¶ä½“ç³»

```typescript
// åŸå­ç»„ä»¶
;(Button, Input, Label, Badge, Avatar)

// åˆ†å­ç»„ä»¶
;(Card, Dialog, Dropdown, Toast)

// æœ‰æœºç»„ä»¶
;(Header, PostCard, CommentList, UserProfile)

// æ¨¡æ¿
;(AuthLayout, MainLayout, ProfileLayout)

// é¡µé¢
;(HomePage, PostPage, ProfilePage)
```

### ä¸»é¢˜ç³»ç»Ÿ

```css
/* CSSå˜é‡å®šä¹‰ */
:root {
  --primary: hsl(220 90% 56%);
  --secondary: hsl(240 5% 96%);
  --accent: hsl(280 85% 65%);
  --background: hsl(0 0% 100%);
  --foreground: hsl(240 10% 3.9%);
}

/* æš—è‰²ä¸»é¢˜ */
[data-theme='dark'] {
  --background: hsl(240 10% 3.9%);
  --foreground: hsl(0 0% 98%);
}
```

## ğŸ”„ çŠ¶æ€ç®¡ç†æ¶æ„

### å®¢æˆ·ç«¯çŠ¶æ€ (Zustand)

```typescript
// ç”¨æˆ·çŠ¶æ€ç®¡ç†
const useUserStore = create(set => ({
  user: null,
  isAuthenticated: false,
  login: user => set({ user, isAuthenticated: true }),
  logout: () => set({ user: null, isAuthenticated: false }),
}))
```

### æœåŠ¡å™¨çŠ¶æ€ (TanStack Query)

```typescript
// æ–‡ç« æ•°æ®è·å–
const { data, isLoading, error } = useQuery({
  queryKey: ['posts', page],
  queryFn: () => fetchPosts(page),
  staleTime: 5 * 60 * 1000, // 5åˆ†é’Ÿ
})
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### æ¸²æŸ“ä¼˜åŒ–

- **SSGé™æ€ç”Ÿæˆ**: é¦–é¡µã€æ–‡ç« åˆ—è¡¨ç­‰é™æ€é¡µé¢
- **ISRå¢é‡é™æ€å†ç”Ÿ**: æ–‡ç« è¯¦æƒ…é¡µå®šæœŸæ›´æ–°
- **SSRæœåŠ¡ç«¯æ¸²æŸ“**: ç”¨æˆ·ä¸ªäººé¡µé¢å®æ—¶æ•°æ®

### èµ„æºä¼˜åŒ–

- **å›¾ç‰‡ä¼˜åŒ–**: Next.js Imageç»„ä»¶è‡ªåŠ¨ä¼˜åŒ–
- **ä»£ç åˆ†å‰²**: è·¯ç”±çº§åˆ«è‡ªåŠ¨ä»£ç åˆ†å‰²
- **å­—ä½“ä¼˜åŒ–**: next/fontè‡ªåŠ¨ä¼˜åŒ–åŠ è½½

### ç¼“å­˜ç­–ç•¥

```javascript
// é¡µé¢ç¼“å­˜é…ç½®
export const revalidate = 3600 // 1å°æ—¶é‡æ–°éªŒè¯

// APIå“åº”ç¼“å­˜
cache: 'force-cache'
next: {
  revalidate: 60
}
```

### æ€§èƒ½ç›‘æ§

```typescript
// Web Vitalsç›‘æ§
export function reportWebVitals(metric) {
  const { id, name, value } = metric
  // å‘é€åˆ°åˆ†ææœåŠ¡
  analytics.send({
    metric: name,
    value: Math.round(name === 'CLS' ? value * 1000 : value),
    id,
  })
}
```

## ğŸ” å®‰å…¨ç­–ç•¥

### å†…å®¹å®‰å…¨ç­–ç•¥ (CSP)

```javascript
// next.config.js
const securityHeaders = [
  {
    key: 'Content-Security-Policy',
    value: ContentSecurityPolicy.replace(/\s{2,}/g, ' ').trim(),
  },
]
```

### XSSé˜²æŠ¤

- è‡ªåŠ¨è½¬ä¹‰ç”¨æˆ·è¾“å…¥
- ä½¿ç”¨DOMPurifyæ¸…ç†å¯Œæ–‡æœ¬å†…å®¹
- é¿å…ä½¿ç”¨dangerouslySetInnerHTML

### è®¤è¯å®‰å…¨

- HTTPOnly Cookieå­˜å‚¨token
- CSRFä»¤ç‰ŒéªŒè¯
- ä¼šè¯è¶…æ—¶ç®¡ç†

## ğŸš€ éƒ¨ç½²ä¼˜åŒ–

### æ„å»ºä¼˜åŒ–

```bash
# ç”Ÿäº§æ„å»º
npm run build

# è¾“å‡ºåˆ†æ
npm run analyze
```

### CDNé…ç½®

- é™æ€èµ„æºCDNåŠ é€Ÿ
- å›¾ç‰‡CDNä¼˜åŒ–
- Edgeç¼“å­˜ç­–ç•¥

### ç›‘æ§å‘Šè­¦

- é”™è¯¯ç›‘æ§ (Sentry)
- æ€§èƒ½ç›‘æ§ (Vercel Analytics)
- ç”¨æˆ·è¡Œä¸ºåˆ†æ (Google Analytics)

## ğŸ”„ å¼€å‘å·¥ä½œæµ

### å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# ç±»å‹æ£€æŸ¥
npm run type-check

# ä»£ç æ ¼å¼åŒ–
npm run format
```

### Gitå·¥ä½œæµ

```
feature/* â†’ develop â†’ main
hotfix/* â†’ main
```

### CI/CDæµç¨‹

1. ä»£ç æäº¤è§¦å‘CI
2. è¿è¡Œæµ‹è¯•å’Œæ„å»º
3. ä»£ç è´¨é‡æ£€æŸ¥
4. è‡ªåŠ¨éƒ¨ç½²åˆ°é¢„è§ˆç¯å¢ƒ
5. æ‰‹åŠ¨è§¦å‘ç”Ÿäº§éƒ¨ç½²
